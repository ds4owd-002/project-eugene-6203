---
title: "Eugene's Project Documentation"
editor: visual
author: "Eugene Appiah-Effah"
date: "`r Sys.Date()`"
table-of-contents: true
bibliography: bibliography.bib

format:
  html:
    css: justify.css

output:
  html_document:
    df_print: paged
    toc: true
    number_sections: true
---

## Introduction

::: {.justify}

Access to safe drinking water, sanitation, and hygiene (WASH) services continues to shape public health and development outcomes in Ghana. Tracking these services helps reveal disparities across regions, urban–rural settings, and service levels. The data set used here draws from the WHO/UNICEF JMP estimates on WASHdata.org, offering standardized and comparable indicators for Ghana. These figures support a clearer understanding of coverage patterns and help inform evidence-based planning in the national WASH sector.

:::

## Methods

::: {.justify}

The data set used for this work was sourced from the WHO/UNICEF Joint Monitoring Programme (JMP) via WASHdata.org. After downloading the raw files, the data were imported into R for cleaning and preparation. This involved selecting key indicators, removing duplicates or empty entries, and restructuring population and service-level figures into formats suitable for analysis. A new regional classification variable was added to support comparisons across regions and between urban and rural settings. The cleaned dataset was then saved in an organized form and used to generate visualisations and summary statistics. The data set reflects the standardized procedures of the JMP @unicef2024, guided by WHO’s global monitoring framework @who2023, and was prepared using reproducible data-analysis practices outlined in @rmanual2022.

:::

## Results

#### **Figure 1: Coverage by the Type of Service**

::: {.justify}

This visualisation compares coverage levels across the three core WASH service areas; hygiene, sanitation, and drinking water. The results show that hygiene and sanitation consistently lag behind drinking water, revealing ongoing challenges in achieving broader access.

:::

#### **Figure 2: Population by the Type of Residence**

::: {.justify}

The second figure illustrates how the population is distributed across total, rural, and urban residence groups. In many regions, rural populations make up a substantial proportion, underscoring the importance of directing WASH efforts toward rural communities.

:::

#### **Table 1: Summary Statistics of Variables**

::: {.justify}

The table presents descriptive statistics for coverage, population, and service-level classifications. Coverage levels exhibit notable variation, and population counts vary considerably between regions, reflecting uneven demographic distribution

Table \@ref(tab:summary-table) offers an overview of the key WASH indicators and their distribution.

:::

## Conclusions

::: {.justify}

Coverage of hygiene and sanitation services continues to fall behind that of drinking water, highlighting specific areas where efforts and resources are most urgently needed to close gaps. Population distribution also shows considerable variation across regions and between urban and rural settings, with rural communities representing a substantial share of residents in many areas. The structured, processed data set provides a solid foundation for both visual exploration and statistical analysis of key WASH indicators, enabling a more nuanced understanding of service coverage and population needs. Overall, these findings underscore the importance of evidence-based, targeted planning and intervention to enhance equity and access to WASH services across all regions.

:::

## Appendix

## Project Description

::: {.justify}

This project examines Ghana’s water, sanitation, and hygiene (WASH) landscape using standardized estimates from the WHO/UNICEF Joint Monitoring Programme (JMP). Data obtained from WASHdata.org were cleaned, structured, and analysed in R to explore coverage levels and population distributions across regions and residence types. The processed data set supports clear visualisations and statistical summaries that highlight patterns in drinking water, sanitation, and hygiene services. The goal is to provide an evidence-based snapshot of national WASH performance to inform planning, equity assessments, and sector decision-making.

:::

## Import

```{r}
library(tidyverse)
library(here)
library(readxl)
```

```{r}
library(readxl)
read_excel(here::here("data/raw/ProjectData.xlsx"))

library(tibble)
library(dplyr)
library(readr)
library(here)

processed_data <- tibble(
  country = c(
    rep("Ghana", 39)
  ),
  service_type = c(
    "Hygiene","Hygiene","Hygiene","Sanitation","Sanitation","Sanitation",
    "Drinking water","Drinking water","Drinking water","Hygiene","Hygiene","Hygiene",
    "Sanitation","Sanitation","Sanitation","Drinking water","Drinking water","Drinking water",
    "Hygiene","Hygiene","Hygiene","Sanitation","Sanitation","Sanitation",
    "Drinking water","Drinking water","Drinking water","Sanitation","Sanitation","Sanitation",
    "Drinking water","Drinking water","Drinking water","Sanitation","Sanitation","Sanitation",
    "Drinking water","Drinking water","Drinking water"
  ),
  
  coverage = c(
    45.48,31.31,54.99,12.82,2.99,19.40,46.98,59.11,38.84,44.86,56.98,36.73,
    41.55,31.36,48.39,4.48,9.78,0.92,9.66,11.72,8.28,17.79,30.76,9.10,
    4.22,10.51,0.00,18.76,20.44,17.64,42.94,17.16,60.23,9.07,14.45,5.47,
    1.38,3.44,0.00
  ),
  population = c(
    15658992,4327143,11331848,4412014,413732,3998282,16174213,8170136,8004077,
    15442597,7874851,7567745,14305984,4334764,9971219,1541579,1351057,190522,
    3325825,1619234,1706592,6126340,4250777,1875563,1452437,1452437,NA,6459799,
    2825133,3634665,14783610,2372024,12411585,3123277,1996823,1126455,475575,475576,NA
  ),
  residence_type = c(
    "total","rural","urban","total","rural","urban",
    "total","rural","urban","total","rural","urban",
    "total","rural","urban","total","rural","urban",
    "total","rural","urban","total","rural","urban",
    "total","rural","urban","total","rural","urban",
    "total","rural","urban","total","rural","urban",
    "total","rural","urban"
  ),
  service_level = c(
    "Basic service","Basic service","Basic service","Basic service","Basic service","Basic service",
    "Basic service","Basic service","Basic service","Limited service","Limited service","Limited service",
    "Limited service","Limited service","Limited service","Limited service","Limited service","Limited service",
    "No handwashing facility","No handwashing facility","No handwashing facility","Open defecation","Open defecation","Open defecation",
    "Surface water","Surface water","Surface water","Safely managed service","Safely managed service","Safely managed service",
    "Safely managed service","Safely managed service","Safely managed service","Unimproved","Unimproved","Unimproved",
    "Unimproved","Unimproved","Unimproved"
  ),
  Region = rep(paste0("Region ", 1:13), each = 3),
  Region_description = rep(NA, 39)
)

processed_data <- processed_data %>%
  select(service_type, coverage, population, residence_type, service_level, Region)

print(processed_data)

write_csv(processed_data,
          here::here("data/processed/processed_service_dataset.csv"))

# data manipulation
library(dplyr)
library(ggplot2)
library(kableExtra)
library(scales)
library(readr)
library(here)

processed_data <- read_csv(here::here("data/processed/processed_service_dataset.csv"))

# Summary Statistics Table
summary_table <- processed_data %>%
  summarise(
    mean_coverage = round(mean(coverage, na.rm = TRUE), 2),
    median_coverage = median(coverage, na.rm = TRUE),
    sd_coverage = round(sd(coverage, na.rm = TRUE), 2),
    total_population = sum(population, na.rm = TRUE),
    n_regions = n_distinct(Region)
  )

kable(summary_table,
      caption = "Summary statistics of key WASH variables.",
      booktabs = TRUE) %>%
  kable_styling(full_width = FALSE)



# Data Visualisation 1 – Coverage by Service Type
ggplot(processed_data, aes(x = service_type, y = coverage, fill = service_level)) +
  geom_bar(stat = "identity", position = position_dodge(width = 1), width = 0.8) +
  labs(
    x = "Service Type",
    y = "Coverage (%)",
    fill = "Service Level"
  ) +
  scale_y_continuous(labels = function(x) paste0(x, "%")) +
  theme_minimal(base_size = 15) +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    legend.position = "right"
  )

# Data Visualisation 2 – Population by Region
ggplot(processed_data, aes(x = Region, y = population/1e6, fill = service_level)) +
  geom_col(position = "stack") +
  labs(
    x = "Regions",
    y = "Population (M)",
    fill = "Service Level"
  ) +
  scale_y_continuous(labels = scales::comma) +
  theme_light(base_size = 15) +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    legend.position = "right"
  )
```
